# JavaScript基础第02天

## 1.  运算符（操作符）

### 1.1 运算符的分类

**运算符**（operator）也被称为操作符，是用于实现**赋值、比较和执行算数运算**等功能的符号。

JavaScript中常用的运算符有：

-  算数运算符
-  递增和递减运算符
-  比较运算符
-  逻辑运算符
-  赋值运算符

### 1.2 算数运算符

- 算术运算符概述

  概念：算术运算使用的符号，用于执行两个变量或值的算术运算。

  ![](images\图片1.png)

  **补充**：%取余的应用场景： **一个数能不能被另外一个数整除**。***  

  ​	   例如： 判断一个数是奇数还是偶数（能否被2整除）

- 浮点数的精度问题

  - 浮点数值的最高精度是 17 位小数，但在进行算术计算时其精确度远远不如整数

  ```js
  var result = 0.1 + 0.2;    // 结果不是 0.3，而是：0.30000000000000004
  console.log(0.07 * 100);   // 结果不是 7，  而是：7.000000000000001
  ```

  - 在 **某些** 小数数字进行运算时，会出现丢失精度问题。比如0.1 + 0.2
  - 视频中讲解：不要直接判断两个浮点数是否相等，这个描述是有问题的
  - 其实是：不能将参与运算的浮点数，再与另一个浮点数进行判断相等
  - 例如：

  ```js
  0.3 == 0.3    //true 
  0.1 + 0.2 == 0.3    //false
  ```

- 表达式和返回值 ***

  - 表达式：是由数字、运算符、变量等以能求得数值的有意义排列方法所得的组合
  - **简单理解：是由数字/值、运算符、变量等组成的式子**
  - **表达式最终都会有一个结果，返回给开发者，称为返回值**
  - **注意**：

  ```js
  var num = 1 + 1;// 表达式，在程序中，会先进行运算，再操作（这里是赋值）  ***
  console.log(num);// 变量，在程序中，会先找变量存储的值，再操作（这里是打印）  ***
  ```

### 1.3 递增和递减运算符

#### 1.3.1 递增和递减运算符概述

- 如果需要反复给数字变量添加或减去1，可以使用递增（++）和递减（ -- ）运算符来完成
- 在 JavaScript 中，递增（++）和递减（ -- ）既可以放在变量前面，也可以放在变量后面
- 放在变量前面时，我们可以称为前置递增（递减）运算符，放在变量后面时，我们可以为后置递增（递减）运算符
- **注意**：**递增和递减运算符必须和变量配合使用**

#### 1.3.2 递增运算符

- 前置递增运算符

  ++num 前置递增，就是自加1，类似于 num =  num + 1，但是 ++num 写起来更简单。

  **使用口诀：先自加，后返回值**

  ```js
  var  num = 10;
  alert(++num + 10);   // 21
  ```

- 后置递增运算符

  num++ 后置递增，就是自加1，类似于 num =  num + 1 ，但是 num++ 写起来更简单。

  **使用口诀：先返回原值，后自加** 

  ```js
  var  num = 10;
  alert(10 + num++);  // 20
  ```

- **总结** ***

  ```js
  //递增是在单独一行书写，不会这么复杂。  ***
  	var num = 10;
  	num++;  // ++num;  //num = num +1;  //单独写在一行，用前置还是后置都一样
  //  10;     //  11
  	alert(num); //11
  //应用场景： for 循环中应用自增 ***  i++
  ```

### 1.4 比较运算符 ***

- 比较运算符概述

   - 概念：比较运算符（关系运算符）是两个数据进行比较时所使用的运算符，比较运算后，会返回一个布尔值（true / false）作为比较运算的结果。

   - 比较运算符如下图：

  ![](images\图片2.png)

​       **注意**：判等，是两个等号==，判等不相等是!=，是将其中的一个等号换为! ,而不是增加一个感叹号

- 等号比较

  ![](images\图片3.png)

  例子：

  ```js
  console.log(18 == '18');
  console.log(18 === '18'); 
  ```

- **补充**：

  ```js
  >=,<=,>,<,==都可以做隐式转换（这些符号左右两侧一方为数字，一方为字符串，则会将字符串转换为数字）
  console.log('3' >= 5);// 可以将'3'转换为3
  console.log('5' == 5);
  ```

### 1.5 逻辑运算符***

#### 1.5.1 逻辑运算符概述 

- 概念：逻辑运算符是用来**进行布尔值运算**的运算符，其返回值也是布尔值
- 逻辑运算符，**用于表示多个条件的关系**  ***
- 逻辑运算符如下：

  ![](images\图片4.png)

#### 1.5.2 逻辑与：&&

两边都是 true才返回 true，否则返回 false


  ​                <img src="images\图片5.png" alt="">

​                  <img src="images\图片6.png" alt="">

**问题**：上边的2>1和3>1并不是布尔类型的值呀？是的，并不是，但是它是一个表达式，会返回一个布尔值。 

#### 1.5.3 逻辑或 ：||

两边都是 false才返回 false，否则返回 true


  ​                <img src="images\图片7.png" alt="">

​                  <img src="images\图片8.png" alt="">

#### 1.5.4 总结

1. 逻辑与 &&  and， 两侧都为true  结果才是 true ， 只要有一侧为false  结果就为false  
2. 逻辑或 || or ， 两侧都为false  结果才是假 false ， 只要有一侧为true  结果就是true 

  怎么**理解**这个结论呢？ 程序中很多东西跟日常生活能够联系起来，就会好理解的多。

		小明有个严厉的爹，他爹给他下达任务，今年过年必须  **找到工作**  **并且**  **找到对象**。
		
			小明必须两个条件都满足，才能完成任务，那么就用到与&&。
		
		小华有个开朗的爹，他爹给他下达任务，今年过年必须  **找到工作**  **或者**  **找到对象**。
		
			小华只要满足其中任意一个条件即可完成任务，那么就用到或||。

#### 1.5.5 逻辑非 ：！

逻辑非（!）也叫作取反符，用来取一个布尔值相反的值，如 true 的相反值是 false

```js
var isOk = !true;
console.log(isOk);  // false
```
#### 1.5.6 短路运算（逻辑中断）

逻辑与和逻辑或有一个特性：**短路，又叫中断**

短路运算的原理：**左边的表达式/值可以确定结果时，就不再继续运算右边的表达式的值**

  - 逻辑与短路运算（碰到false，就中断***）

      语法： 表达式1 && 表达式2

      - 如果第一个表达式的值为真，则返回表达式2

      - 如果第一个表达式的值为假，则返回表达式1

      代码：

      ```js
      console.log( 123 && 456 );        // 456
      console.log( 0 && 456 );          // 0
      console.log( 123 && 456&& 789 );  // 789
      ```
      **问题**：这里的&&两边怎么可以是一个具体的值呢？

      ​	    如果是一个值，那么&&会将这个值转换为boolean类型的值进行判断，但是不会返回true或false，而是返回起决定性作用的那个值。

  - 逻辑或短路运算（碰到true，就中断***） 

     语法： 表达式1 || 表达式2

     - 如果第一个表达式的值为真，则返回表达式1

     - 如果第一个表达式的值为假，则返回表达式2

     代码：

      ```js
      console.log( 123 || 456 );         //  123
      console.log( 0 ||  456 );          //  456
      console.log( 123 || 456 || 789 );  //  123
      ```

- **总结**：

  以上的结论，比较难以记忆，看以下结论：

  **逻辑运算，返回起决定性作用的一方**。*** 

### 1.6 赋值运算符

概念：用来把数据赋值给变量的运算符。

![](images\图片9.png)

代码：

```js
var age = 10;
age += 5;  // 相当于 age = age + 5;
age -= 5;  // 相当于 age = age - 5;
age *= 10; // 相当于 age = age * 10;
```

### 1.7 运算符优先级

![](images\图片10.png)

- 一元运算符里面的逻辑非优先级很高
- 逻辑与比逻辑或优先级高
- 运算符优先级不用全记，一般不会写太复杂的表达式，但是会经常写如下的表达式：
  - var b = 3 <= 4 || 3 > 1 || 3 != 2; 
  - 逻辑运算符优先级比较靠后，先判断大小，再逻辑

## 2.  流程控制

### 2.1 流程控制概念

- 在一个程序执行的过程中，各条代码的执行顺序对程序的结果是有直接影响的
- 很多时候我们要通过控制代码的执行顺序来实现我们要完成的功能
- 简单理解：**流程控制就是来控制代码按照一定结构顺序来执行**

- 流程控制主要有三种结构，分别是**顺序结构**、**分支结构**和**循环结构**，代表三种代码执行的顺序
- 分析图：

![](images\图片11.png)

### 2.2 顺序流程控制

​	顺序结构是程序中最简单、最基本的流程控制，它没有特定的语法结构，程序会按照代码的先后顺序，依次执行，程序中大多数的代码都是这样执行的。
                <img src="images\图片12.png" alt="">

### 2.3 分支流程控制 ***

#### 2.3.1 分支结构

由上到下执行代码的过程中，根据不同的条件，执行不同的路径代码（执行代码多选一的过程），从而得到不同的结果
                <img src="images\图片13.png" alt="">

JS 语言提供了两种分支结构语句：**if 语句、switch 语句**

#### 2.3.2 if 语句 

- 语法结构

```js
// 条件成立执行代码，否则什么也不做
if (条件表达式/值/变量) { // 如果是值和变量，if会做隐式转换，转换为boolean类型 ***
    // 条件成立执行的代码语句
}
//例子
if (3 < 5) {
    alert('沙漠骆驼');
}
```

**语句**：可以理解为一个行为，可以是一行代码，也可以是一段代码，循环语句和分支语句就是典型的语句。

- 执行流程

  ![](images\图片14.png)

- 进入网吧案例：

  ```js
  //弹出 prompt 输入框，用户输入年龄， 程序把这个值取过来保存到变量中
  //使用 if 语句来判断年龄，如果年龄大于18 就执行 if 大括号里面的输出语句
  var age = prompt('请输入您的年龄:');
  if (age >= 18) {//这里>=做了一个隐式转换，将age字符串18转换为了数字18
      alert('我想带你去网吧偷耳机');
  }
  ```


#### 2.3.3 if else语句（双分支语句）

- 语法结构

  ```js
  // 条件成立  执行 if 里面代码，否则执行else 里面的代码
  if (条件表达式) {
      // [如果] 条件成立执行的代码
  } else {
      // [否则] 执行的代码
  }
  //例子：
  var age = prompt('请输+入您的年龄:');
  if (age >= 18) {
      alert('我想带你去网吧偷耳机');
  } else {//else不用写条件，因为不满足if则满足else，else的条件省略了（这里的else条件为age<18）
      alert('滚， 回家做作业去');
  }
  ```

- 执行流程

  ![](images\图片15.png)

- 判断闰年案例

  ```js
  //算法：能被4整除且不能整除100的为闰年（如2004年就是闰年，1901年不是闰年）或者能够被 400 整除的就是闰年
  // 弹出prompt 输入框，让用户输入年份，把这个值取过来保存到变量中
  // 使用 if 语句来判断是否是闰年，如果是闰年，就执行 if 大括号里面的输出语句，否则就执行 else里面的输出语句
  // 一定要注意里面的且 &&  还有或者 || 的写法，同时注意判断整除的方法是取余为 0
  var year = prompt('请您输入年份：');
  if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0) {
      alert('您输入的年份是闰年');
  } else {
      alert('您输入的年份是平年');
  }
  ```

#### 2.3.4 if else if 语句(多分支语句)

- 语法结构

  ```js
  // 适合于检查多重条件。
  if (条件表达式1) {
      语句1；
  } else if (条件表达式2)  {
      语句2；
  } else if (条件表达式3)  {
     语句3；
   ....
  } else {
      // 上述条件都不成立执行此处代码
  }
  
  ```

- 执行逻辑

  ![](images\图片16.png)

- 判断成绩案例

  ```js
  // 按照从大到小判断的思路
  // 弹出prompt输入框，让用户输入分数（score），把这个值取过来保存到变量中
  // 使用多分支 if else if 语句来分别判断输出不同的值
  var score = prompt('请您输入分数:');// 这里的>= ， 如果是string与number进行比较，会做隐式转换***
  if (score >= 90) {
      alert('宝贝，你是我的骄傲');
  } else if (score >= 80) {
      alert('宝贝，你已经很出色了');
  } else if (score >= 70) {
      alert('你要继续加油喽');
  } else if (score >= 60) {
      alert('孩子，你很危险');
  } else {
      alert('熊孩子，我不想和你说话，我只想用鞭子和你说话');
  }
  ```

### 2.4 三元表达式 ***

三元表达式：简单的if  else （双分支） 的简写

- 语法结构

  ```js
  表达式1/值 ? 表达式2/值 : 表达式3/值;
  如果表达式1为 true ，则返回表达式2的值，如果表达式1为 false，则返回表达式3的值
  ```

- 应用场景：简单的if  else:  if 和 else 中的代码只有一行。

- 代码

  ```js
   var num = 10;
   var result = num > 5 ? '是的' : '不是的';
   console.log(result);
  ```

- 数字补零案例

  ```js
  //用户输入0~59之间的一个数字
  // 如果数字小于10，则在这个数字前面补0,（加0 拼接） 否则  不做操作
  // 用一个变量接受这个返回值，输出
  var time = prompt('请您输入一个 0 ~ 59 之间的一个数字');
  // 三元表达式   表达式 ？ 表达式1 ：表达式2 
  var result = time < 10 ? '0' + time : time; //   把返回值赋值给一个变量
  alert(result);
  ```

### 2.5 switch分支流程控制

- 语法结构

   switch 语句也是多分支语句，它用于基于不同的条件来执行不同的代码。

   当要针对变量设置一系列的特定值的选项时，就可以使用 switch。

   ```js
    switch( 表达式 ){ //表达式常为一个变量  ***
         case value1: //仅仅是值，不支持写表达式：>=value1  ***
             // 表达式 等于 value1 时要执行的代码
             break;
         case value2:
             // 表达式 等于 value2 时要执行的代码
             break;
         default:
             // 表达式 不等于任何一个 value 时要执行的代码
             break; //这个可以省略
     }
   ```

  - 例子

   ```js
     switch (8) {
         case 1:
             console.log('这是1');
             break;
         case 2:
             console.log('这是2');
             break;
         case 3:
             console.log('这是3');
             break;
         default:
             console.log('没有匹配结果');
   
     }
   ```

  - switch ：切换，开关 ； case ：  选项； break：跳出；default：默认；

  - **关键字 switch 后面括号内可以是表达式或值， 通常是一个变量** ***

  - 关键字 case , 后跟一个值，一个冒号

  - switch 表达式的值会与结构中的 case 的值做比较 

  - 如果表达式与case的value **全等** *** ，则与该 case 关联的代码块会被执行，并在遇到 break 时停止，整个 switch 语句代码执行结束

  - 如果所有的 case 的值都和表达式的值不匹配，则执行 default 里的代码

  - **注意： 执行case 里面的语句时，如果没有break，则继续执行下一个case里面的语句，直到遇到break为止**

  - switch 语句和 if else if 语句的区别： （这个不用看，看下边的总结即可）

    - 一般情况下，它们两个语句可以相互替换
    - switch...case 语句通常处理 case为比较确定值的情况， 而 if…else…语句更加灵活，常用于范围判断(大于、等于某个范围)
    - switch 语句进行条件判断后直接执行到程序的条件语句，效率更高。而if…else 语句有几种条件，就得判断多少次。
    - 当分支比较少时，if… else语句的执行效率比 switch语句高。
    - 当分支比较多时，switch语句的执行效率比较高，而且结构更清晰。 

- **区别总结：**
  - switch: 判断一系列固定的值，比如星期。判断范围相当麻烦，一般不用。  *******
  - if else ： 常用于判断范围，也可以判断固定值  ***

- 查询水果案例：

  ```js
  //弹出 prompt 输入框，让用户输入水果名称，把这个值取过来保存到变量中。
  // 将这个变量作为 switch 括号里面的表达式。
  // case 后面的值写几个不同的水果名称，注意一定要加引号 ，因为必须是全等匹配。
  // 弹出不同价格即可。同样注意每个 case 之后加上 break ，以便退出 switch 语句。
  // 将 default 设置为没有此水果。
  var fruit = prompt('请您输入查询的水果:');
  switch (fruit) {
      case '苹果':
          alert('苹果的价格是 3.5/斤');
          break;
      case '榴莲':
          alert('榴莲的价格是 35/斤');
          break;
      default:
          alert('没有此水果');
  }
  ```